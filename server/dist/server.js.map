{"version":3,"sources":["../src/server.js"],"names":["http","require","express","cors","morgan","bodyParser","Api","init","app","routes","server","createServer","use","exposedHeaders","json","limit","listen","process","env","API_PORT","console","log","API_HOST","exports"],"mappings":"AAAA;;AAEA,IAAMA,OAAaC,QAAQ,MAAR,CAAnB;AACA,IAAMC,UAAaD,QAAQ,SAAR,CAAnB;AACA,IAAME,OAAaF,QAAQ,MAAR,CAAnB;AACA,IAAMG,SAAaH,QAAQ,QAAR,CAAnB;AACA,IAAMI,aAAaJ,QAAQ,aAAR,CAAnB;;AAEA,IAAMK,MAAaL,QAAQ,OAAR,CAAnB;;AAEA,SAASM,IAAT,GAAgB;;AAEf,KAAMC,MAASN,SAAf;AACA,KAAMO,SAASH,IAAIG,MAAJ,EAAf;;AAEA;AACAD,KAAIE,MAAJ,GAAaV,KAAKW,YAAL,CAAkBH,GAAlB,CAAb;;AAEA;AACAA,KAAII,GAAJ,CAAQR,OAAO,KAAP,CAAR;;AAEA;AACAI,KAAII,GAAJ,CAAQT,KAAK;AACZU,kBAAgB,CAAC,MAAD;AADJ,EAAL,CAAR;;AAIAL,KAAII,GAAJ,CAAQP,WAAWS,IAAX,CAAgB;AACvBC,SAAQ;AADe,EAAhB,CAAR;;AAIA;AACAP,KAAII,GAAJ,CAAQ,GAAR,EAAaH,MAAb;;AAEAD,KAAIE,MAAJ,CAAWM,MAAX,CAAkBC,QAAQC,GAAR,CAAYC,QAA9B,EAAwC,YAAM;AAC7CC,UAAQC,GAAR,gBAAyBJ,QAAQC,GAAR,CAAYI,QAArC,SAAiDL,QAAQC,GAAR,CAAYC,QAA7D;AACA,EAFD;;AAIA,QAAOX,GAAP;AAEA;;AAEDe,QAAQhB,IAAR,GAAeA,IAAf","file":"server.js","sourcesContent":["'use strict';\n\nconst http       = require('http');\nconst express    = require('express');\nconst cors       = require('cors');\nconst morgan     = require('morgan');\nconst bodyParser = require('body-parser');\n\nconst Api        = require('./api');\n\nfunction init() {\n\n\tconst app    = express();\n\tconst routes = Api.routes();\n\n\t// Create server\n\tapp.server = http.createServer(app);\n\n\t// Logger\n\tapp.use(morgan('dev'));\n\n\t// 3rd party middleware\n\tapp.use(cors({\n\t\texposedHeaders: [\"Link\"]\n\t}));\n\n\tapp.use(bodyParser.json({\n\t\tlimit : \"100kb\"\n\t}));\n\n\t// Load REST API\n\tapp.use('/', routes);\n\n\tapp.server.listen(process.env.API_PORT, () => {\n\t\tconsole.log(`Server on ${process.env.API_HOST}:${process.env.API_PORT}`);\n\t});\n\n\treturn app;\n\n}\n\nexports.init = init;\n"]}